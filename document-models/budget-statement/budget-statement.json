{
    "id": "powerhouse/budget-statement",
    "name": "BudgetStatement",
    "extension": "phbs",
    "description": "The BudgetStatement module manages the state and actions related to budget statements, which are documents that track the financial transactions of an organization over a month.",
    "author": {
        "name": "Powerhouse",
        "website": "https://powerhouse.inc/"
    },
    "specifications": [
        {
            "version": 1,
            "changeLog": [],
            "modules": [
                {
                    "name": "account",
                    "operations": [
                        {
                            "name": "AddAccount",
                            "id": "",
                            "description": "",
                            "schema": "input AddAccountInput {\n    address: String!\n    name: String\n    lineItems: [LineItemInput!]\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "UpdateAccount",
                            "id": "",
                            "description": "",
                            "schema": "input UpdateAccountInput {\n    address: String!\n    name: String\n    lineItems: [LineItem!]\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "DeleteAccount",
                            "id": "",
                            "description": "",
                            "schema": "input DeleteAccountInput {\n    account: String!\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "SortAccounts",
                            "id": "",
                            "description": "",
                            "schema": "input SortAccountsInput {\n    accounts: [String!]!\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                },
                {
                    "name": "line-item",
                    "operations": [
                        {
                            "name": "AddLineItem",
                            "id": "",
                            "description": "",
                            "schema": "input AddLineItemInput {\n accountId: ID!\n group: LineItemGroup\n headcountExpense: Boolean\n category: LineItemCategory\n budgetCap: Float\n actual: Float\n payment: Float\n forecast: [LineItemForecast!]\n comment: String }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "UpdateLineItem",
                            "id": "",
                            "description": "",
                            "schema": "input LineItemUpdateInput {\n group: String\n category: String\n headcountExpense: Boolean\n budgetCap: Float\n actual: Float\n payment: Float\n forecast: [LineItemForecast!]\n comment: String }\n\ninput UpdateLineItemInput {\n accountId: ID!\n group: String\n category: String\n headcountExpense: Boolean\n budgetCap: Float\n actual: Float\n payment: Float\n forecast: [LineItemForecast!]\n comment: String }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "DeleteLineItem",
                            "id": "",
                            "description": "",
                            "schema": "input DeleteLineItemInput {\n accountId: ID!\n group: String\n category: String }\n\n",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "SortLineItems",
                            "id": "",
                            "description": "",
                            "schema": "input LineItemsSortInput {\n group: String\n category: String }\n\ninput SortLineItemsInput {\n accountId: ID!\n lineItems: [LineItemsSortInput!]! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                },
                {
                    "name": "base",
                    "operations": [
                        {
                            "name": "SetOwner",
                            "id": "",
                            "description": "",
                            "schema": "input SetOwnerInput {\n ref: String\n id: String\n title: String }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "SetMonth",
                            "id": "",
                            "description": "",
                            "schema": "input SetMonthInput {\n month: String! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "SetFtes",
                            "id": "",
                            "description": "",
                            "schema": "input FtesForecastInput {\n month: String!\n value: Float! }\n\ninput SetFtesInput {\n value: Float!\n forecast: [FtesForecastInput!]! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "SetQuoteCurrency",
                            "id": "",
                            "description": "",
                            "schema": "input SetQuoteCurrencyInput {\n quoteCurrency: String! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                },
                {
                    "name": "audit",
                    "operations": [
                        {
                            "name": "AddAuditReport",
                            "id": "",
                            "description": "",
                            "schema": "input AddAuditReportInput {\ntimestamp: DateTime\nreport: Attachment!\nstatus: AuditReportStatus!\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "DeleteAuditReport",
                            "id": "",
                            "description": "",
                            "schema": "input DeleteAuditReportInput {\nreport: String!\n}",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                },
                {
                    "name": "comment",
                    "operations": [
                        {
                            "name": "AddComment",
                            "id": "",
                            "description": "",
                            "schema": "input CommentAuthorInput {\n ref: String\n id: String\n username: String\n roleLabel: String }\n\ninput AddCommentInput {\n key: String\n author: CommentAuthorInput\n comment: String!\n timestamp: DateTime\n status: BudgetStatus }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "UpdateComment",
                            "id": "",
                            "description": "",
                            "schema": "input UpdateCommentInput {\n key: String!\n author: CommentAuthorInput\n comment: String\n timestamp: DateTime\n status: BudgetStatus }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "DeleteComment",
                            "id": "",
                            "description": "",
                            "schema": "input DeleteCommentInput {\n comment: String! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                },
                {
                    "name": "vesting",
                    "operations": [
                        {
                            "name": "AddVesting",
                            "id": "",
                            "description": "",
                            "schema": "input AddVestingInput {\n key: String\n date: String\n amount: String\n amountOld: String\n comment: String\n currency: String\n vested: Boolean }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "UpdateVesting",
                            "id": "",
                            "description": "",
                            "schema": "input UpdateVestingInput {\n key: String!\n date: String\n amount: String\n amountOld: String\n comment: String\n currency: String\n vested: Boolean }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        },
                        {
                            "name": "DeleteVesting",
                            "id": "",
                            "description": "",
                            "schema": "input DeleteVestingInput {\n vesting: String! }",
                            "template": "",
                            "reducer": "",
                            "examples": [],
                            "errors": [],
                            "scope": "global"
                        }
                    ],
                    "id": "",
                    "description": ""
                }
            ],
            "state": {
                "global": {
                    "schema": "scalar DateTime\nscalar Attachment\n\ninput LineItemInput {\n    group: LineItemGroup\n    headcountExpense: Boolean\n    category: LineItemCategory\n    budgetCap: Float\n    actual: Float\n    payment: Float\n    forecast: [LineItemForecast!]\n    comment: String }                    \n\ntype LineItemGroup {\n    ref: String!\n    id: String!\n    title: String!\n    color: String!\n}\n\ntype LineItemCategory {\n    ref: String!\n    id: String!\n    title: String!\n}\n\ntype LineItemForecast {\n    month: String!\n    value: Float!\n    budgetCap: Float!\n}\n\ntype LineItem {\n    group: LineItemGroup\n    headcountExpense: Boolean!\n    category: LineItemCategory\n    budgetCap: Float\n    actual: Float\n    payment: Float\n    forecast: [LineItemForecast!]!\n    comment: String\n}\n\ntype Account {\n    address: String! # TODO Address\n    name: String!\n    lineItems: [LineItem!]!\n}\n\ntype Owner {\n    ref: String\n    id: String\n    title: String\n}\n\ntype Vesting {\n    key: String!\n    date: String!\n    amount: String!\n    amountOld: String!\n    comment: String!\n    currency: String!\n    vested: Boolean!\n}\n\ntype FtesForecast {\n    month: String!\n    value: Float!\n}\n\ntype Ftes {\n    value: Float!\n    forecast: [FtesForecast!]!\n}\n\nenum AuditReportStatus {\n    Approved\n    ApprovedWithComments\n    NeedsAction\n    Escalated\n}\n\ntype AuditReport {\n    timestamp: DateTime!\n    report: Attachment! # TODO enforce attachment\n    status: AuditReportStatus!\n}\n\ntype CommentAuthor {\n    ref: String\n    id: String\n    username: String\n    roleLabel: String\n}\n\nenum BudgetStatus {\n    Draft\n    Review\n    Final\n    Escalated\n}\n\ntype Comment {\n    key: String!\n    author: CommentAuthor!\n    comment: String!\n    timestamp: DateTime!\n    status: BudgetStatus!\n}\n\ntype BudgetStatementState {\n    owner: Owner\n    month: String\n    quoteCurrency: String\n    accounts: [Account!]!\n    vesting: [Vesting!]!\n    ftes: Ftes\n    auditReports: [AuditReport!]!\n    comments: [Comment!]!\n}",
                    "initialValue": "{\n    \"owner\": {\n        \"ref\": null,\n        \"id\": null,\n        \"title\": null\n    },\n    \"month\": null,\n    \"quoteCurrency\": null,\n    \"vesting\": [],\n    \"ftes\": null,\n    \"accounts\": [],\n    \"auditReports\": [],\n    \"comments\": []\n}",
                    "examples": []
                },
                "local": {
                    "schema": "type BudgetStatementLocalState",
                    "initialValue": "{}",
                    "examples": []
                }
            }
        }
    ]
}