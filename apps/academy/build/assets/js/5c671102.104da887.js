"use strict";(self.webpackChunk_powerhousedao_academy=self.webpackChunk_powerhousedao_academy||[]).push([[8254],{6654:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"academy/MasteryTrack/BuildingUserExperiences/BuildingADriveExplorer","title":"Build a drive explorer","description":"Drive Explorers (or Drive Apps) enhance how contributors and organizations interact with document models.","source":"@site/docs/academy/02-MasteryTrack/03-BuildingUserExperiences/03-BuildingADriveExplorer.md","sourceDirName":"academy/02-MasteryTrack/03-BuildingUserExperiences","slug":"/academy/MasteryTrack/BuildingUserExperiences/BuildingADriveExplorer","permalink":"/academy/MasteryTrack/BuildingUserExperiences/BuildingADriveExplorer","draft":false,"unlisted":false,"editUrl":"https://github.com/powerhouse-inc/powerhouse-docs/tree/dev/docs/academy/02-MasteryTrack/03-BuildingUserExperiences/03-BuildingADriveExplorer.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"academySidebar","previous":{"title":"Configure a drive","permalink":"/academy/MasteryTrack/BuildingUserExperiences/ConfiguringDrives"},"next":{"title":"Document Tools","permalink":"/category/document-tools"}}');var r=t(5723),i=t(7474);const s={},d="Build a drive explorer",a={},l=[{value:"Drive explorers are purpose-built",id:"drive-explorers-are-purpose-built",level:3},{value:"Key features of drive apps",id:"key-features-of-drive-apps",level:3},{value:"Build a drive app",id:"build-a-drive-app",level:2},{value:"Step 1. Generate the scaffolding code",id:"step-1-generate-the-scaffolding-code",level:3},{value:"Step 2. Update the manifest file",id:"step-2-update-the-manifest-file",level:3},{value:"Step 3. Customize the drive app",id:"step-3-customize-the-drive-app",level:3},{value:"About the drive app template",id:"about-the-drive-app-template",level:3},{value:"Implementation example: To-do drive explorer",id:"implementation-example-to-do-drive-explorer",level:2},{value:"1. Create a To-do document model:",id:"1-create-a-to-do-document-model",level:3},{value:"2. Add the reducer code:",id:"2-add-the-reducer-code",level:3},{value:"3. Generate a document editor:",id:"3-generate-a-document-editor",level:3},{value:"4. Add the editor code:",id:"4-add-the-editor-code",level:3},{value:"Generate the drive explorer app",id:"generate-the-drive-explorer-app",level:2},{value:"1. Generate a drive explorer app:",id:"1-generate-a-drive-explorer-app",level:3},{value:"2. Update the <code>powerhouse.manifest.json</code> file:",id:"2-update-the-powerhousemanifestjson-file",level:3},{value:"3. Remove Unnecessary Default Components:",id:"3-remove-unnecessary-default-components",level:3},{value:"4. Create custom components for your drive explorer:",id:"4-create-custom-components-for-your-drive-explorer",level:3},{value:"3. Run the application:",id:"3-run-the-application",level:3},{value:"Now it&#39;s your turn!",id:"now-its-your-turn",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"build-a-drive-explorer",children:"Build a drive explorer"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Drive Explorers (or Drive Apps)"})," enhance how contributors and organizations interact with document models.\nThey create an 'app-like' experience by providing a ",(0,r.jsx)(n.strong,{children:"custom interface"})," for exploring and interacting with the contents of a drive."]}),"\n",(0,r.jsx)(n.admonition,{title:"What is a Drive Explorer or Drive App?",type:"tip",children:(0,r.jsxs)(n.p,{children:["A Drive Explorer or Drive App offers a tailored application designed around its document models.\nThink of a Drive Explorer as a specialized lens\u2014it offers ",(0,r.jsx)(n.strong,{children:"different ways to visualize, organize, and interact with"})," the data stored within a drive, making it more intuitive and efficient for specific use cases."]})}),"\n",(0,r.jsx)(n.h3,{id:"drive-explorers-are-purpose-built",children:"Drive explorers are purpose-built"}),"\n",(0,r.jsx)(n.p,{children:"Organizations typically build Drive Explorers for specific use cases, often packaging them with a corresponding document model. This allows for customized user experiences, streamlined workflows, and maximized efficiency for contributors."}),"\n",(0,r.jsxs)(n.p,{children:["Drive Explorers or Drive Apps ",(0,r.jsx)(n.strong,{children:"bridge the gap between raw data and usability"}),", unlocking the full potential of document models within the Powerhouse framework."]}),"\n",(0,r.jsx)(n.h3,{id:"key-features-of-drive-apps",children:"Key features of drive apps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom Views & Organization"})," \u2013 Drive Apps can present data in formats like Kanban boards, list views, or other structured layouts to suit different workflows."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Aggregated Insights"})," \u2013 They can provide high-level summaries of important details across document models, enabling quick decision-making."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enhanced Interactivity"})," \u2013 Drive Apps can include widgets, data processors, or read models to process and display document data dynamically."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"build-a-drive-app",children:"Build a drive app"}),"\n",(0,r.jsxs)(n.p,{children:["Drive Apps provide custom interfaces for interacting with the contents of a drive.\nLet's start with a ",(0,r.jsx)(n.strong,{children:"quick overview"})," of the three steps for building a Drive App. We will then apply these steps to create our ",(0,r.jsx)(n.strong,{children:"To-do List Drive App"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"step-1-generate-the-scaffolding-code",children:"Step 1. Generate the scaffolding code"}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"generate drive editor"})," command to create the basic template structure for your Drive App:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph generate --drive-editor <Drive App>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-update-the-manifest-file",children:"Step 2. Update the manifest file"}),"\n",(0,r.jsxs)(n.p,{children:["After creating your Drive App, you need to update its ",(0,r.jsx)(n.code,{children:"manifest.json"})," file.\nThis file identifies your project and its components within the Powerhouse ecosystem."]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-customize-the-drive-app",children:"Step 3. Customize the drive app"}),"\n",(0,r.jsx)(n.p,{children:"Review the generated template and modify it to better suit your document model:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Remove unnecessary files and components"}),"\n",(0,r.jsx)(n.li,{children:"Add custom views specific to your data model"}),"\n",(0,r.jsx)(n.li,{children:"Implement specialized interactions for your use case"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"about-the-drive-app-template",children:"About the drive app template"}),"\n",(0,r.jsx)(n.p,{children:"The default template provides a solid foundation. It contains:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A tree structure navigation panel"}),"\n",(0,r.jsx)(n.li,{children:"Basic file/folder operations"}),"\n",(0,r.jsx)(n.li,{children:"Standard layout components"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"But the real power comes from tailoring the interface to your specific document models.\nNow, let's implement a specific example for the to-do list we've been working on throughout this guide."}),"\n",(0,r.jsx)(n.h2,{id:"implementation-example-to-do-drive-explorer",children:"Implementation example: To-do drive explorer"}),"\n",(0,r.jsx)(n.p,{children:"This example demonstrates how to create a To-do Drive Explorer application using the Powerhouse platform.\nThe application allows users to create and manage to-do lists with a visual progress indicator."}),"\n",(0,r.jsxs)(n.admonition,{title:"Heads-up!",type:"warning",children:[(0,r.jsxs)(n.p,{children:["If you've been following the Mastery Track, you can continue with the to-do list document model and Powerhouse project you've created. For more details, you can refer to the ",(0,r.jsx)(n.a,{href:"/academy/MasteryTrack/DocumentModelCreation/SpecifyTheStateSchema",children:"Document Model Creation guide"}),"."]}),(0,r.jsx)(n.p,{children:"If not, you can follow the shortened guide below to prepare your project for this tutorial."}),(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Prepare your Powerhouse Project to create a custom drive"}),(0,r.jsx)(n.h3,{id:"1-create-a-to-do-document-model",children:"1. Create a To-do document model:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Initialize a new project with ",(0,r.jsx)(n.code,{children:"ph init"})," and give it a project name."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Start by running Connect locally with ",(0,r.jsx)(n.code,{children:"ph connect"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Download the ",(0,r.jsx)(n.code,{children:"todolist.phdm.zip"})," file from the ",(0,r.jsx)(n.a,{href:"https://github.com/powerhouse-inc/todo-demo-package/blob/production/todolist.phdm.zip",children:"todo-demo-package GitHub repository"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Place the downloaded file in the root of your project directory."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Generate the document model:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph generate todolist.phdm.zip\n"})}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"2-add-the-reducer-code",children:"2. Add the reducer code:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy the code from ",(0,r.jsx)(n.a,{href:"https://github.com/powerhouse-inc/todo-demo-package/blob/production/document-models/to-do-list/src/reducers/base-operations.ts",children:(0,r.jsx)(n.code,{children:"base-operations.ts"})})]}),"\n",(0,r.jsxs)(n.li,{children:["Paste it into ",(0,r.jsx)(n.code,{children:"document-models/to-do/src/reducers/base-operations.ts"})]}),"\n"]}),(0,r.jsx)(n.h3,{id:"3-generate-a-document-editor",children:"3. Generate a document editor:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph generate --editor ToDoList --document-types powerhouse/todolist\n"})}),(0,r.jsx)(n.h3,{id:"4-add-the-editor-code",children:"4. Add the editor code:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy the code from ",(0,r.jsx)(n.a,{href:"https://github.com/powerhouse-inc/todo-demo-package/blob/production/editors/to-do-list/editor.tsx",children:(0,r.jsx)(n.code,{children:"editor.tsx"})})]}),"\n",(0,r.jsxs)(n.li,{children:["Paste it into ",(0,r.jsx)(n.code,{children:"editors/to-do-list/editor.tsx"})]}),"\n"]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"generate-the-drive-explorer-app",children:"Generate the drive explorer app"}),"\n",(0,r.jsx)(n.h3,{id:"1-generate-a-drive-explorer-app",children:"1. Generate a drive explorer app:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph generate --drive-editor todo-drive-explorer\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"2-update-the-powerhousemanifestjson-file",children:["2. Update the ",(0,r.jsx)(n.code,{children:"powerhouse.manifest.json"})," file:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The manifest file contains metadata for your package that is displayed when other users install it. Update the manifest to register your new Drive App:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "name": "To-do List Package",\n  "description": "A simple todo list with a dedicated Drive Explorer App",\n  "category": "Productivity",\n  "publisher": {\n    "name": "Powerhouse",\n    "url": "https://www.powerhouse.inc/"\n  },\n  "documentModels": [\n    {\n      "id": "to-do-list",\n      "name": "To-do List"\n    }\n  ],\n  "editors": [\n    {\n      "id": "to-do-list-editor",\n      "name": "To-do List Editor",\n      "documentTypes": ["todo-list"]\n    }\n  ],\n  "apps": [\n    {\n      "id": "todo-drive-explorer",\n      "name": "To-do Drive App",\n      "driveEditor": "todo-drive-explorer"\n    }\n  ],\n  "subgraphs": [],\n  "importScripts": []\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-remove-unnecessary-default-components",children:"3. Remove Unnecessary Default Components:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["First, let's remove some default template files that we won't need for this specific demo. If you want to see what the default template looks like before removing files, you can run ",(0,r.jsx)(n.code,{children:"ph connect"})," at any time."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"rm -rf editors/todo-drive-explorer/hooks\nrm -rf editors/todo-drive-explorer/components/FileItemsGrid.tsx\nrm -rf editors/todo-drive-explorer/components/FolderItemsGrid.tsx\nrm -rf editors/todo-drive-explorer/components/FolderTree.tsx\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-create-custom-components-for-your-drive-explorer",children:"4. Create custom components for your drive explorer:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Next, create the following files. These will define the data types for our to-do items and provide the custom React components for our Drive Explorer."}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)("summary",{children:["Create ",(0,r.jsx)(n.code,{children:"editors/todo-drive-explorer/types/todo.ts"})]}),(0,r.jsxs)(n.p,{children:["This file defines the TypeScript type ",(0,r.jsx)(n.code,{children:"ToDoState"}),". It specifies the shape of to-do document data within the Drive Explorer, combining the document's revision information with its global state. This ensures that our components work with a predictable and strongly-typed data structure."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import { type ToDoListDocument} from "../../../document-models/to-do-list/index.js"\n\n export type ToDoState = {\n    documentType: string;\n    revision: {\n       global: number;\n       local: number;\n    };\n    global: ToDoListDocument["state"]["global"];\n };\n'})})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)("summary",{children:["Create ",(0,r.jsx)(n.code,{children:"editors/todo-drive-explorer/components/ProgressBar.tsx"})]}),(0,r.jsxs)(n.p,{children:["This is a simple React component that renders a visual progress bar. It takes a ",(0,r.jsx)(n.code,{children:"value"})," and ",(0,r.jsx)(n.code,{children:"max"})," number to calculate the percentage of completed tasks. It also displays the percentage and has a special state for when there are no tasks."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:' import type { FC } from \'react\';\n\n interface ProgressBarProps {\n value: number;\n max: number;\n }\n\n export const ProgressBar: FC<ProgressBarProps> = ({ value, max }) => {\n if (max === 0) {\n    return (\n       <div className="w-full bg-gray-200 rounded-full h-4">\n       <div className="bg-gray-300 h-4 rounded-full text-xs text-center text-gray-500">\n          No tasks\n       </div>\n       </div>\n    );\n }\n\n const percentage = Math.min(100, (value / max) * 100);\n\n return (\n    <div className="w-full bg-gray-200 rounded-full h-4 relative">\n       <div\n       className="bg-blue-500 h-4 rounded-full transition-all duration-300"\n       style={{ width: `${percentage}%` }}\n       />\n       <div className="absolute inset-0 flex items-center justify-center text-xs font-medium text-black">\n       {Math.round(percentage)}%\n       </div>\n    </div>\n );\n };\n'})})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)("summary",{children:["Update ",(0,r.jsx)(n.code,{children:"editors/todo-drive-explorer/components/DriveExplorer.tsx"})]}),(0,r.jsxs)(n.p,{children:["This is the main component of our Drive Explorer. It fetches all ",(0,r.jsx)(n.code,{children:"powerhouse/todo"})," documents from the drive, displays them in a table with their progress, and allows a user to click on a document to open it in the ",(0,r.jsx)(n.code,{children:"EditorContainer"}),". It also includes a button to create new documents."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import { useCallback, useState, useRef, useEffect, useMemo } from "react";\nimport type { FileNode, GetDocumentOptions, Node } from "document-drive";\nimport { EditorContainer, EditorContainerProps } from "./EditorContainer.js";\nimport type { DocumentModelModule } from "document-model";\nimport { CreateDocumentModal } from "@powerhousedao/design-system";\nimport { CreateDocument } from "./CreateDocument.js";\nimport { type DriveEditorContext, useDriveContext } from "@powerhousedao/reactor-browser";\nimport { ProgressBar } from "./ProgressBar.js";\n\nimport { type ToDoState } from "../types/todo.js"\n\ninterface DriveExplorerProps {\ndriveId: string;\nnodes: Node[];\nonAddFolder: (name: string, parentFolder?: string) => void;\nonDeleteNode: (nodeId: string) => void;\nrenameNode: (nodeId: string, name: string) => void;\nonCopyNode: (nodeId: string, targetName: string, parentId?: string) => void;\ncontext: DriveEditorContext;\n}\n\nexport function DriveExplorer({\ndriveId,\nnodes,\ncontext,\n}: DriveExplorerProps) {\nconst { getDocumentRevision } = context;\n\nconst [activeDocumentId, setActiveDocumentId] = useState<\n   string | undefined\n>();\nconst [openModal, setOpenModal] = useState(false);\nconst selectedDocumentModel = useRef<DocumentModelModule | null>(null);\nconst { addDocument, documentModels, useDriveDocumentStates } = useDriveContext();\n\nconst [state, fetchDocuments] = useDriveDocumentStates({ driveId });\n\nuseEffect(() => {\n   fetchDocuments(driveId).catch(console.error);\n}, [activeDocumentId]);\n\nconst { todoNodes } = useMemo(() => {\n   return Object.keys(state).reduce(\n      (acc, curr) => {\n      const document = state[curr];\n      if (document.documentType.startsWith("powerhouse/todo")) {\n         acc.todoNodes[curr] = document as ToDoState;\n      }\n\n      return acc;\n      },\n      {\n      todoNodes: {} as Record<string, ToDoState>,\n      },\n   );\n}, [state]);\n\n\nconst handleEditorClose = useCallback(() => {\n   setActiveDocumentId(undefined);\n}, []);\n\nconst onCreateDocument = useCallback(\n   async (fileName: string) => {\n      setOpenModal(false);\n\n      const documentModel = selectedDocumentModel.current;\n      if (!documentModel) return;\n\n      const node = await addDocument(\n      driveId,\n      fileName,\n      documentModel.documentModel.id,\n      );\n\n      selectedDocumentModel.current = null;\n      setActiveDocumentId(node.id);\n   },\n   [addDocument, driveId],\n);\n\nconst onSelectDocumentModel = useCallback(\n   (documentModel: DocumentModelModule) => {\n      selectedDocumentModel.current = documentModel;\n      setOpenModal(true);\n   },\n   [],\n);\n\nconst onGetDocumentRevision = useCallback(\n   (options?: GetDocumentOptions) => {\n      if (!activeDocumentId) return;\n      return getDocumentRevision?.(activeDocumentId, options);\n   },\n   [getDocumentRevision, activeDocumentId],\n);\n\nconst filteredDocumentModels = documentModels;\n\n\nconst fileNodes = nodes.filter((node) => node.kind === "file") as FileNode[];\n// Get the active document info from nodes\nconst activeDocument = activeDocumentId\n   ? fileNodes.find((file) => file.id === activeDocumentId)\n   : undefined;\n\nconst documentModelModule = activeDocument\n   ? context.getDocumentModelModule(activeDocument.documentType)\n   : null;\n\nconst editorModule = activeDocument\n   ? context.getEditor(activeDocument.documentType)\n   : null;\n\n\nreturn (\n   <div className="flex h-full">\n      {/* Main Content */}\n      <div className="flex-1 p-4 overflow-y-auto">\n      {activeDocument && documentModelModule && editorModule ? (\n            <EditorContainer\n            context={{\n               ...context,\n               getDocumentRevision: onGetDocumentRevision,\n            }}\n            documentId={activeDocumentId!}\n            documentType={activeDocument.documentType}\n            driveId={driveId}\n            onClose={handleEditorClose}\n            title={activeDocument.name}\n            documentModelModule={documentModelModule}\n            editorModule={editorModule}\n            />\n      ) : (\n         <>\n            <h2 className="text-lg font-semibold mb-4">ToDos:</h2>\n            <div className="overflow-x-auto">\n            <table className="min-w-full divide-y divide-gray-200">\n               <thead className="bg-gray-50">\n                  <tr>\n                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Document ID</th>\n                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Document Type</th>\n                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tasks</th>\n                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Completed</th>\n                  <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progress</th>\n                  </tr>\n               </thead>\n               <tbody className="bg-white divide-y divide-gray-200">\n                  {Object.entries(todoNodes).map(([documentId, todoNode]) => (\n                  <tr key={documentId} className="hover:bg-gray-50">\n                     <td className="px-6 py-4 whitespace-nowrap">\n                        <div\n                        onClick={() => setActiveDocumentId(documentId)}\n                        className="text-blue-600 hover:text-blue-800 cursor-pointer"\n                        >\n                        {documentId}\n                        </div>\n                     </td>\n                     <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n                        {todoNode.documentType}\n                     </td>\n                     <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n                        {todoNode.global.stats.total}\n                     </td>\n                     <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-500">\n                        {todoNode.global.stats.checked}\n                     </td>\n                     <td className="px-6 py-4 whitespace-nowrap">\n                        <div className="w-32">\n                        <ProgressBar\n                           value={todoNode.global.stats.checked}\n                           max={todoNode.global.stats.total}\n                        />\n                        </div>\n                     </td>\n                  </tr>\n                  ))}\n               </tbody>\n            </table>\n            </div>\n\n            {/* Create Document Section */}\n            <CreateDocument\n            createDocument={onSelectDocumentModel}\n            documentModels={filteredDocumentModels}\n            />\n         </>\n      )}\n      </div>\n\n      {/* Create Document Modal */}\n      <CreateDocumentModal\n      onContinue={onCreateDocument}\n      onOpenChange={(open) => setOpenModal(open)}\n      open={openModal}\n      />\n   </div>\n);\n}\n'})})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsxs)("summary",{children:["Update ",(0,r.jsx)(n.code,{children:"editors/todo-drive-explorer/components/EditorContainer.tsx"})]}),(0,r.jsxs)(n.p,{children:["This component acts as a wrapper for the document editor. When a user selects a document in ",(0,r.jsx)(n.code,{children:"DriveExplorer.tsx"}),", this component mounts the appropriate editor (",(0,r.jsx)(n.code,{children:"to-do-list"})," editor in this case) and provides it with the necessary context and properties to function. It also renders the ",(0,r.jsx)(n.code,{children:"DocumentToolbar"})," which provides actions like closing, exporting, and viewing revision history."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import {\nuseDriveContext,\nexportDocument,\ntype User,\ntype DriveEditorContext,\n} from "@powerhousedao/reactor-browser";\nimport {\ndocumentModelDocumentModelModule,\ntype DocumentModelModule,\ntype EditorContext,\ntype EditorProps,\ntype PHDocument,\ntype EditorModule,\ntype Operation,\n} from "document-model";\nimport { useTimelineItems, getRevisionFromDate } from "@powerhousedao/common";\nimport {\nDocumentToolbar,\nRevisionHistory,\nDefaultEditorLoader,\ngenerateLargeTimeline,\ntype TimelineItem,\n} from "@powerhousedao/design-system";\nimport { useState, Suspense, type FC, useCallback } from "react";\n\nexport interface EditorContainerProps {\ndriveId: string;\ndocumentId: string;\ndocumentType: string;\nonClose: () => void;\ntitle: string;\ncontext: Omit<DriveEditorContext, "getDocumentRevision"> &\n   Pick<EditorContext, "getDocumentRevision">;\ndocumentModelModule: DocumentModelModule<PHDocument>;\neditorModule: EditorModule;\n}\n\nexport const EditorContainer: React.FC<EditorContainerProps> = (props) => {\nconst { driveId, documentId, documentType, onClose, title, context, documentModelModule, editorModule } = props;\n\nconst [selectedTimelineItem, setSelectedTimelineItem] = useState<TimelineItem | null>(null);\nconst [showRevisionHistory, setShowRevisionHistory] = useState(false);\nconst { useDocumentEditorProps } = useDriveContext();\nconst user = context.user as User | undefined;\nconst timelineItems = useTimelineItems(documentId);\n\nconst { dispatch, error, document } = useDocumentEditorProps({\n   documentId,\n   documentType,\n   driveId,\n   documentModelModule,\n   user,\n});\n\nconst onExport = useCallback(async () => {\n   if (document) {\n      const ext = documentModelModule.documentModel.extension;\n      await exportDocument(document, title, ext);\n   }\n}, [document?.revision.global, document?.revision.local]);\n\nconst loadingContent = (\n   <div className="flex-1 flex justify-center items-center h-full">\n      <DefaultEditorLoader />\n   </div>\n);\n\nif (!document) return loadingContent;\n\nconst moduleWithComponent = editorModule as EditorModule<PHDocument>;\nconst EditorComponent = moduleWithComponent.Component;\n\nreturn showRevisionHistory ? (\n   <RevisionHistory\n      documentId={documentId}\n      documentTitle={title}\n      globalOperations={document.operations.global}\n      key={documentId}\n      localOperations={document.operations.local}\n      onClose={() => setShowRevisionHistory(false)}\n   />\n) : (\n   <Suspense fallback={loadingContent}>\n      <DocumentToolbar\n      onClose={onClose}\n      onExport={onExport}\n      onShowRevisionHistory={() => setShowRevisionHistory(true)}\n      onSwitchboardLinkClick={() => {}}\n      title={title}\n      timelineButtonVisible\n      timelineItems={timelineItems.data}\n      onTimelineItemClick={setSelectedTimelineItem}\n      />\n      <EditorComponent\n      context={{\n         ...context,\n         readMode: !!selectedTimelineItem,\n         selectedTimelineRevision: getRevisionFromDate(\n            selectedTimelineItem?.startDate,\n            selectedTimelineItem?.endDate,\n            document.operations.global,\n         ),\n      }}\n      dispatch={dispatch}\n      document={document}\n      error={error}\n      />\n   </Suspense>\n);\n};\n'})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In case you are getting stuck and want to verify your progress with the reference repository you can find the example repository of the ",(0,r.jsx)(n.a,{href:"/academy/MasteryTrack/DocumentModelCreation/ExampleToDoListRepository",children:"Todo-demo-package here"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-run-the-application",children:"3. Run the application:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"With the code for our Drive App in place, it's time to see it in action. Run Connect in Studio mode:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph connect\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://raw.githubusercontent.com/powerhouse-inc/todo-drive-explorer/9a87871e61460e73ddf8635fd756a0cd991306d6/demo.gif",alt:"Todo Drive Explorer Demo"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"now-its-your-turn",children:"Now it's your turn!"}),"\n",(0,r.jsx)(n.p,{children:"Start building your own drive apps, explorers or experiences.\nCongratulations on completing this tutorial!\nYou've successfully built a custom Drive Explorer, enhancing the way users interact with document models."}),"\n",(0,r.jsx)(n.p,{children:"Now, take a moment to think about the possibilities!"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["What ",(0,r.jsx)(n.strong,{children:"unique Drive Experiences"})," could you create for your own projects?"]}),"\n",(0,r.jsx)(n.li,{children:"How can you tailor interfaces and streamline workflows to unlock the full potential of your document models?"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The Powerhouse platform provides the tools. It's time to start building!"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},7474:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var o=t(2155);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);