"use strict";(self.webpackChunk_powerhousedao_academy=self.webpackChunk_powerhousedao_academy||[]).push([[2319],{7474:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var o=i(2155);const r={},s=o.createContext(r);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:n},e.children)}},9870:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"academy/MasteryTrack/Launch/ConfigureEnvironment","title":"Configure your environment","description":"After successfully setting up your server and installing the Powerhouse services using the ph service setup command as described in the Setup Environment guide, the next crucial step is to configure your environment. Proper configuration ensures that your Powerhouse Connect and Switchboard instances behave exactly as you need them to for your specific application.","source":"@site/docs/academy/02-MasteryTrack/05-Launch/04-ConfigureEnvironment.md","sourceDirName":"academy/02-MasteryTrack/05-Launch","slug":"/academy/MasteryTrack/Launch/ConfigureEnvironment","permalink":"/academy/MasteryTrack/Launch/ConfigureEnvironment","draft":false,"unlisted":false,"editUrl":"https://github.com/powerhouse-inc/powerhouse-docs/tree/dev/docs/academy/02-MasteryTrack/05-Launch/04-ConfigureEnvironment.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"academySidebar","previous":{"title":"Environment setup guide","permalink":"/academy/MasteryTrack/Launch/SetupEnvironment"},"next":{"title":"Chatroom","permalink":"/category/chatroom"}}');var r=i(5723),s=i(7474);const a={},t="Configure your environment",c={},l=[{value:"Using environment variables",id:"using-environment-variables",level:2},{value:"How to create and edit your .env file",id:"how-to-create-and-edit-your-env-file",level:3},{value:"Common environment variables for Connect",id:"common-environment-variables-for-connect",level:3},{value:"Using a configuration file",id:"using-a-configuration-file",level:2},{value:"Configuring authorization",id:"configuring-authorization",level:3},{value:"Via environment variables",id:"via-environment-variables",level:4},{value:"Via <code>powerhouse.config.json</code>",id:"via-powerhouseconfigjson",level:4},{value:"Applying your changes",id:"applying-your-changes",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configure-your-environment",children:"Configure your environment"})}),"\n",(0,r.jsxs)(n.p,{children:["After successfully setting up your server and installing the Powerhouse services using the ",(0,r.jsx)(n.code,{children:"ph service setup"})," command as described in the ",(0,r.jsx)(n.a,{href:"/academy/MasteryTrack/Launch/SetupEnvironment",children:"Setup Environment"})," guide, the next crucial step is to configure your environment. Proper configuration ensures that your Powerhouse Connect and Switchboard instances behave exactly as you need them to for your specific application."]}),"\n",(0,r.jsx)(n.p,{children:"Powerhouse offers two primary methods for configuration:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Environment Variables"}),": Using a ",(0,r.jsx)(n.code,{children:".env"})," file in your project root. This is a straightforward way to set configuration values."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration Files"}),": For more complex configurations, some services might use a JSON configuration file (e.g., ",(0,r.jsx)(n.code,{children:"powerhouse.config.json"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["A key principle to remember is that ",(0,r.jsx)(n.strong,{children:"environment variables will always override values set in configuration files"}),". This allows for flexible setups, where you can have default configurations in a file and override them for different environments (development, staging, production) using environment variables."]})}),"\n",(0,r.jsx)(n.p,{children:"This guide will walk you through both methods and provide details on common configuration options, including setting up authorization."}),"\n",(0,r.jsx)(n.h2,{id:"using-environment-variables",children:"Using environment variables"}),"\n",(0,r.jsxs)(n.p,{children:["The most common way to configure Powerhouse services is through environment variables. You can place these variables in a ",(0,r.jsx)(n.code,{children:".env"})," file at the root of your project directory. When you run ",(0,r.jsx)(n.code,{children:"ph service start"})," or ",(0,r.jsx)(n.code,{children:"ph service restart"}),", these variables are loaded into the environment of your running services."]}),"\n",(0,r.jsx)(n.h3,{id:"how-to-create-and-edit-your-env-file",children:"How to create and edit your .env file"}),"\n",(0,r.jsxs)(n.p,{children:["If you're on your cloud server, you can create and edit the ",(0,r.jsx)(n.code,{children:".env"})," file directly:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to your project directory: ",(0,r.jsx)(n.code,{children:"cd <your-project-name>"})]}),"\n",(0,r.jsxs)(n.li,{children:["Open the ",(0,r.jsx)(n.code,{children:".env"})," file with a text editor like ",(0,r.jsx)(n.code,{children:"vim"})," or ",(0,r.jsx)(n.code,{children:"nano"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"vim .env\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Add your configuration variables, one per line, in the ",(0,r.jsx)(n.code,{children:'KEY="VALUE"'})," format.","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-env",children:'# Example for Connect\nPH_CONNECT_STUDIO_MODE="true"\nPH_CONNECT_DISABLE_ADD_DRIVE="true"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Save the file and exit the editor (in ",(0,r.jsx)(n.code,{children:"vim"}),", press ",(0,r.jsx)(n.code,{children:"Esc"}),", then type ",(0,r.jsx)(n.code,{children:":wq"})," and press ",(0,r.jsx)(n.code,{children:"Enter"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["For the changes to take effect, you must restart the Powerhouse services:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service restart\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-environment-variables-for-connect",children:"Common environment variables for Connect"}),"\n",(0,r.jsx)(n.p,{children:"The Powerhouse Connect application has a wide range of available environment variables to toggle features and change its behavior. Below is a list of some variables you can configure."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# build arguments\nBASE_PATH="/" # vite base path\nBASE_HREF="./" # electron-forge base href\nPH_CONNECT_APP_REQUIRES_HARD_REFRESH="true"\nSENTRY_AUTH_TOKEN=""\nSENTRY_ORG=""\nSENTRY_PROJECT=""\n\n# environment variables\nLOG_LEVEL="info"\n\n## app configuration & feature flags\nPH_CONNECT_DISABLE_ADD_DRIVE="false"\nPH_CONNECT_WARN_OUTDATED_APP="false"\nPH_CONNECT_STUDIO_MODE="false"\nPH_CONNECT_ROUTER_BASENAME="/"\nPH_CONNECT_DEFAULT_DRIVES_URL=""\nPH_CONNECT_ENABLED_EDITORS=""\nPH_CONNECT_DISABLE_ADD_PUBLIC_DRIVES="false"\nPH_CONNECT_SEARCH_BAR_ENABLED="false"\nPH_CONNECT_DISABLE_ADD_CLOUD_DRIVES="false"\nPH_CONNECT_DISABLE_ADD_LOCAL_DRIVES="false"\nPH_CONNECT_DISABLE_DELETE_PUBLIC_DRIVES="false"\nPH_CONNECT_DISABLE_DELETE_CLOUD_DRIVES="false"\nPH_CONNECT_DISABLE_DELETE_LOCAL_DRIVES="false"\nPH_CONNECT_PUBLIC_DRIVES_ENABLED="true"\nPH_CONNECT_CLOUD_DRIVES_ENABLED="true"\nPH_CONNECT_LOCAL_DRIVES_ENABLED="true"\nPH_CONNECT_ARBITRUM_ALLOW_LIST=""\nPH_CONNECT_RWA_ALLOW_LIST=""\nPH_CONNECT_HIDE_DOCUMENT_MODEL_SELECTION_SETTINGS="true"\n\nPH_CONNECT_RENOWN_URL="https://www.renown.id"\nPH_CONNECT_RENOWN_NETWORK_ID="eip155"\nPH_CONNECT_RENOWN_CHAIN_ID=1\nPH_CONNECT_DISABLED_EDITORS="powerhouse/document-drive"\n\nPH_CONNECT_ANALYTICS_DATABASE_NAME=""\nPH_CONNECT_ANALYTICS_DATABASE_WORKER_DISABLED="false"\n\n## error tracking\nPH_CONNECT_SENTRY_DSN=""\nPH_CONNECT_SENTRY_PROJECT=""\nPH_CONNECT_SENTRY_ENV="prod"\nPH_CONNECT_SENTRY_TRACING_ENABLED="false"\n\n## analytics\nPH_CONNECT_GA_TRACKING_ID=\n\nFILE_UPLOAD_OPERATIONS_CHUNK_SIZE="50"\nPH_CONNECT_VERSION_CHECK_INTERVAL="3600000"\nPH_CONNECT_CLI_VERSION=""\n\n## set during build\nAPP_VERSION=""\nSENTRY_RELEASE=""\n'})}),"\n",(0,r.jsxs)(n.p,{children:["You can find the most up-to-date list of variables in the source repository: ",(0,r.jsx)(n.a,{href:"https://github.com/powerhouse-inc/powerhouse/blob/main/apps/connect/.env",children:"https://github.com/powerhouse-inc/powerhouse/blob/main/apps/connect/.env"})]}),"\n",(0,r.jsx)(n.h2,{id:"using-a-configuration-file",children:"Using a configuration file"}),"\n",(0,r.jsxs)(n.p,{children:["For services like the Switchboard, you can also use a ",(0,r.jsx)(n.code,{children:"powerhouse.config.json"})," file for more structured configuration, especially for features like authorization."]}),"\n",(0,r.jsx)(n.h3,{id:"configuring-authorization",children:"Configuring authorization"}),"\n",(0,r.jsxs)(n.p,{children:["A critical aspect of your environment configuration is setting up authorization to control who can access your services and what they can do. As detailed in our dedicated ",(0,r.jsx)(n.a,{href:"/academy/MasteryTrack/BuildingUserExperiences/Authorization/Authorization",children:"Switchboard Authorization"})," guide, you can manage access using a role-based system."]}),"\n",(0,r.jsx)(n.p,{children:"Here's a quick overview of how you can configure authorization:"}),"\n",(0,r.jsx)(n.h4,{id:"via-environment-variables",children:"Via environment variables"}),"\n",(0,r.jsxs)(n.p,{children:["You can set the roles directly in your ",(0,r.jsx)(n.code,{children:".env"})," file. This is quick and easy for simple allowlists."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Required: Enable/disable authentication\nAUTH_ENABLED=true\n\n# Optional: Comma-separated list of guest wallet addresses\nGUESTS="0x789...,0xabc..."\n\n# Optional: Comma-separated list of regular user wallet addresses\nUSERS="0xdef...,0xghi..."\n\n# Optional: Comma-separated list of admin wallet addresses\nADMINS="0x123...,0x456..."\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"via-powerhouseconfigjson",children:["Via ",(0,r.jsx)(n.code,{children:"powerhouse.config.json"})]}),"\n",(0,r.jsxs)(n.p,{children:["For a cleaner setup, especially with longer lists of addresses, you can define them in ",(0,r.jsx)(n.code,{children:"powerhouse.config.json"})," in your project root."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "switchboard": {\n    "auth": {\n      "enabled": true,\n      "guests": ["0x789...", "0xabc..."],\n      "users": ["0xdef...", "0xghi..."],\n      "admins": ["0x123...", "0x456..."]\n    }\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Remember, if you define ",(0,r.jsx)(n.code,{children:"AUTH_ENABLED=false"})," as an environment variable, it will override the ",(0,r.jsx)(n.code,{children:"enabled: true"})," setting in your JSON file."]}),"\n",(0,r.jsxs)(n.p,{children:["For a complete understanding of how roles (Guest, User, Admin) work and the permissions they have, please refer to the full ",(0,r.jsx)(n.a,{href:"/academy/MasteryTrack/BuildingUserExperiences/Authorization/Authorization",children:"Authorization guide"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"applying-your-changes",children:"Applying your changes"}),"\n",(0,r.jsx)(n.p,{children:"Regardless of which method you use to update your configuration, the changes will not be applied until you restart your services."}),"\n",(0,r.jsx)(n.p,{children:"Use the following command to do so:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service restart\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This will stop and then start the Connect and Switchboard services, ensuring they load the new configuration. You can check the status with ",(0,r.jsx)(n.code,{children:"ph service status"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.p,{children:["Configuring your environment is a key step to tailor the Powerhouse platform to your needs. By using a combination of ",(0,r.jsx)(n.code,{children:".env"})," files for simple key-value settings and ",(0,r.jsx)(n.code,{children:"powerhouse.config.json"})," for more structured data, you have fine-grained control over all features, from the UI of the Connect app to the security and authorization on your Switchboard."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);