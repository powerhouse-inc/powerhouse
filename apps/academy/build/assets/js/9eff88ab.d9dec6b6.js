"use strict";(self.webpackChunk_powerhousedao_academy=self.webpackChunk_powerhousedao_academy||[]).push([[9524],{2458:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"academy/MasteryTrack/BuilderEnvironment/StandardDocumentModelWorkflow","title":"Create Powerhouse packages","description":"This tutorial is a summary for builders that are already familiar with building document models.","source":"@site/docs/academy/02-MasteryTrack/01-BuilderEnvironment/02-StandardDocumentModelWorkflow.md","sourceDirName":"academy/02-MasteryTrack/01-BuilderEnvironment","slug":"/academy/MasteryTrack/BuilderEnvironment/StandardDocumentModelWorkflow","permalink":"/academy/MasteryTrack/BuilderEnvironment/StandardDocumentModelWorkflow","draft":false,"unlisted":false,"editUrl":"https://github.com/powerhouse-inc/powerhouse-docs/tree/dev/docs/academy/02-MasteryTrack/01-BuilderEnvironment/02-StandardDocumentModelWorkflow.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"academySidebar","previous":{"title":"Prerequisites","permalink":"/academy/MasteryTrack/BuilderEnvironment/Prerequisites"},"next":{"title":"Powerhouse builder tooling","permalink":"/academy/MasteryTrack/BuilderEnvironment/BuilderTools"}}');var s=i(5723),r=i(7474);const t={},d="Create Powerhouse packages",c={},l=[{value:"Phase 1: Setup and initialization",id:"phase-1-setup-and-initialization",level:2},{value:"1.1. Install Powerhouse CLI",id:"11-install-powerhouse-cli",level:3},{value:"1.2. Initialize your project environment",id:"12-initialize-your-project-environment",level:3},{value:"1.3. Launch Connect in studio mode",id:"13-launch-connect-in-studio-mode",level:3},{value:"Phase 2: Document model specification",id:"phase-2-document-model-specification",level:2},{value:"2.1. Define the document model schema",id:"21-define-the-document-model-schema",level:3},{value:"2.2. Define document model operations",id:"22-define-document-model-operations",level:3},{value:"2.3. Export document model specification",id:"23-export-document-model-specification",level:3},{value:"Phase 3: Implementation and testing",id:"phase-3-implementation-and-testing",level:2},{value:"3.1. Generate scaffolding code",id:"31-generate-scaffolding-code",level:3},{value:"3.2. Implement reducer logic",id:"32-implement-reducer-logic",level:3},{value:"3.3. Write unit tests for reducers",id:"33-write-unit-tests-for-reducers",level:3},{value:"3.4. Implement the document editor",id:"34-implement-the-document-editor",level:3},{value:"3.5. Test the editor",id:"35-test-the-editor",level:3},{value:"Phase 4: Packaging and publishing",id:"phase-4-packaging-and-publishing",level:2},{value:"4.1. Prepare project for packaging",id:"41-prepare-project-for-packaging",level:3},{value:"4.2. Specify package details in <code>package.json</code>",id:"42-specify-package-details-in-packagejson",level:3},{value:"4.3. Add a manifest file (<code>manifest.json</code>)",id:"43-add-a-manifest-file-manifestjson",level:3},{value:"4.4. Build your project",id:"44-build-your-project",level:3},{value:"4.5. Version control",id:"45-version-control",level:3},{value:"4.6. Publish to NPM",id:"46-publish-to-npm",level:3},{value:"4.7. Using your published package",id:"47-using-your-published-package",level:3}];function a(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"create-powerhouse-packages",children:"Create Powerhouse packages"})}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"This tutorial is a summary for builders that are already familiar with building document models"}),".",(0,s.jsx)(n.br,{}),"\n","It provides a summary from initial setup up to publishing a distributable package."]}),(0,s.jsxs)(n.p,{children:["Please start with the '",(0,s.jsx)(n.strong,{children:"Get Started"}),"' Chapter or '",(0,s.jsx)(n.strong,{children:"Document Model Creation"}),"' section if you are unfamiliar with building a document model."]})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:"Key commands that you'll use in this flow"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pnpm install -g ph-cmd"})," or ",(0,s.jsx)(n.code,{children:"npm install -g ph-cmd"}),": Installs the Powerhouse CLI globally."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ph init"}),": Initializes a new Powerhouse project or sets up the local environment."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ph connect"}),": Runs Connect in Studio Mode for local development and testing."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ph generate <YourModelName.phdm.zip>"}),": Generates scaffolding code from an exported document model specification."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ph generate --editor YourModelName --document-types powerhouse/YourModelName"}),": Generates an editor template for a document model."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pnpm build"})," or ",(0,s.jsx)(n.code,{children:"npm run build"}),": Builds the project for production."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pnpm run test"})," or ",(0,s.jsx)(n.code,{children:"npm test"}),": Runs unit tests."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"npm login"}),": Logs into your NPM account."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"npm publish"}),": Publishes your package to NPM."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ph install @your-org-ph/your-package-name"}),": Installs a published package into a local Powerhouse environment."]}),"\n"]})]}),"\n",(0,s.jsx)(n.h2,{id:"phase-1-setup-and-initialization",children:"Phase 1: Setup and initialization"}),"\n",(0,s.jsx)(n.h3,{id:"11-install-powerhouse-cli",children:"1.1. Install Powerhouse CLI"}),"\n",(0,s.jsxs)(n.p,{children:["Ensure you have the Powerhouse Command Line Interface (",(0,s.jsx)(n.code,{children:"ph-cmd"}),") installed. This tool is crucial for managing your Powerhouse projects."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm install -g ph-cmd\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or if you're using npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install -g ph-cmd\n"})}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{children:(0,s.jsx)(n.strong,{children:"Prerequisites"})}),(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/academy/MasteryTrack/BuilderEnvironment/Prerequisites",children:"Prerequisites"})," guide for detailed installation instructions for Node.js 22, package managers (pnpm or npm), and Git if you haven't set them up yet."]})]}),"\n",(0,s.jsx)(n.h3,{id:"12-initialize-your-project-environment",children:"1.2. Initialize your project environment"}),"\n",(0,s.jsx)(n.p,{children:"Before creating a specific project, or if you're setting up your environment for the first time to use Connect Studio Mode, initialize the Powerhouse environment. This command prepares your local setup, including a local Reactor configuration."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph init\n"})}),"\n",(0,s.jsx)(n.p,{children:"If you are starting a new project to be packaged, this command will also prompt you for a project name. This name will be used for your package."}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:" How to make use of different branches? "}),(0,s.jsx)(n.p,{children:"When installing or using the Powerhouse CLI commands you are able to make use of the dev & staging branches. These branches contain more experimental features then the latest stable release the PH CLI uses by default. They can be used to get access to a bugfix or features under development."}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Command"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"pnpm install -g ph-cmd"})," or ",(0,s.jsx)(n.strong,{children:"npm install -g ph-cmd"})]}),(0,s.jsx)(n.td,{children:"Install latest stable version"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"pnpm install -g ph-cmd@dev"})," or ",(0,s.jsx)(n.strong,{children:"npm install -g ph-cmd@dev"})]}),(0,s.jsx)(n.td,{children:"Install development version"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"pnpm install -g ph-cmd@staging"})," or ",(0,s.jsx)(n.strong,{children:"npm install -g ph-cmd@staging"})]}),(0,s.jsx)(n.td,{children:"Install staging version"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph init"})}),(0,s.jsx)(n.td,{children:"Use latest stable version of the boilerplate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph init --dev"})}),(0,s.jsx)(n.td,{children:"Use development version of the boilerplate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph init --staging"})}),(0,s.jsx)(n.td,{children:"Use staging version of the boilerplate"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph use"})}),(0,s.jsx)(n.td,{children:"Switch all dependencies to latest production versions"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph use dev"})}),(0,s.jsx)(n.td,{children:"Switch all dependencies to development versions"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"ph use prod"})}),(0,s.jsx)(n.td,{children:"Switch all dependencies to production versions"})]})]})]}),(0,s.jsx)(n.p,{children:"Please be aware that these versions can contain bugs and experimental features that aren't fully tested."})]}),"\n",(0,s.jsx)(n.h3,{id:"13-launch-connect-in-studio-mode",children:"1.3. Launch Connect in studio mode"}),"\n",(0,s.jsx)(n.p,{children:"Connect is your local development hub. Running it in Studio Mode spins up a local instance with a local Reactor, allowing you to define, build, and test document models."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph connect\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command typically opens Connect in your browser at ",(0,s.jsx)(n.code,{children:"http://localhost:3000/"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Powerhouse Reactors"})," are essential nodes in the Powerhouse network. They store documents, manage versions, resolve conflicts, and verify document operation histories by rerunning them. Reactors can be configured for local storage (as in Studio Mode), centralized cloud storage, or decentralized storage networks."]})}),"\n",(0,s.jsx)(n.h2,{id:"phase-2-document-model-specification",children:"Phase 2: Document model specification"}),"\n",(0,s.jsx)(n.h3,{id:"21-define-the-document-model-schema",children:"2.1. Define the document model schema"}),"\n",(0,s.jsx)(n.p,{children:"Within Connect Studio Mode, navigate to the Document Model Editor. Here, you'll specify the structure of your document model using GraphQL Schema Definition Language (SDL)."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"State Schema:"})," Describes the data fields and types within your document (e.g., ",(0,s.jsx)(n.code,{children:"ToDoItem"})," with ",(0,s.jsx)(n.code,{children:"id"}),", ",(0,s.jsx)(n.code,{children:"text"}),", ",(0,s.jsx)(n.code,{children:"checked"})," fields)."]}),"\n",(0,s.jsx)(n.li,{children:"This schema is the blueprint for your document model's data."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"22-define-document-model-operations",children:"2.2. Define document model operations"}),"\n",(0,s.jsx)(n.p,{children:"In the same editor, specify the operations (state transitions) for your document model. These are also defined using GraphQL, specifically input types."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Operations Schema:"})," Specifies the actions that can be performed on the document (e.g., ",(0,s.jsx)(n.code,{children:"AddTodoItemInput"}),", ",(0,s.jsx)(n.code,{children:"UpdateTodoItemInput"}),", ",(0,s.jsx)(n.code,{children:"DeleteTodoItemInput"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Each input type details the parameters required for an operation."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Best Practices:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Clearly define operations (often aligning with CRUD principles)."}),"\n",(0,s.jsx)(n.li,{children:"Use GraphQL input types for operation parameters."}),"\n",(0,s.jsx)(n.li,{children:"Ensure operations reflect user intent for a clean API."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"23-export-document-model-specification",children:"2.3. Export document model specification"}),"\n",(0,s.jsxs)(n.p,{children:["Once your schema and operations are defined in Connect, export the specification. This will download a ",(0,s.jsx)(n.code,{children:".phdm.zip"})," file (e.g., ",(0,s.jsx)(n.code,{children:"YourModelName.phdm.zip"}),"). Save this file in the root of your Powerhouse project directory."]}),"\n",(0,s.jsx)(n.h2,{id:"phase-3-implementation-and-testing",children:"Phase 3: Implementation and testing"}),"\n",(0,s.jsx)(n.h3,{id:"31-generate-scaffolding-code",children:"3.1. Generate scaffolding code"}),"\n",(0,s.jsxs)(n.p,{children:["Use the Powerhouse CLI to process the exported ",(0,s.jsx)(n.code,{children:".phdm.zip"})," file and generate the necessary boilerplate code for your document model."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph generate YourModelName.phdm.zip\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command creates a new directory under ",(0,s.jsx)(n.code,{children:"document-models/YourModelName/"})," containing:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A JSON file with the document model specification."}),"\n",(0,s.jsx)(n.li,{children:"A GraphQL file with the state and operation schemas."}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"gen/"})," folder with autogenerated TypeScript types, action creators, and utility functions based on your schema."]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"src/"})," folder where you'll implement your custom logic (reducers, utils)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"32-implement-reducer-logic",children:"3.2. Implement reducer logic"}),"\n",(0,s.jsxs)(n.p,{children:["Reducers are pure functions that implement the state transition logic for each operation defined in your schema. Navigate to ",(0,s.jsx)(n.code,{children:"document-models/YourModelName/src/reducers/to-do-list.ts"})," (or similar, based on your model name)."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Implement the functions for each operation (e.g., ",(0,s.jsx)(n.code,{children:"addTodoItemOperation"}),", ",(0,s.jsx)(n.code,{children:"updateTodoItemOperation"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"These functions take the current state and an action (containing input data) and return the new state."}),"\n",(0,s.jsx)(n.li,{children:"Powerhouse handles immutability behind the scenes."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"33-write-unit-tests-for-reducers",children:"3.3. Write unit tests for reducers"}),"\n",(0,s.jsxs)(n.p,{children:["It's crucial to test your reducer logic. Write unit tests in the ",(0,s.jsx)(n.code,{children:"document-models/YourModelName/src/reducers/tests/"})," directory."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verify that each operation correctly transforms the document state."}),"\n",(0,s.jsxs)(n.li,{children:["Use the auto-generated action creators from the ",(0,s.jsx)(n.code,{children:"gen/"})," folder to create operation actions for your tests.\nRun tests using:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm run test\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or with npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm test\n"})}),"\n",(0,s.jsx)(n.h3,{id:"34-implement-the-document-editor",children:"3.4. Implement the document editor"}),"\n",(0,s.jsx)(n.p,{children:"A document editor provides the user interface for interacting with your document model in Connect. Generate an editor template:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph generate --editor YourModelName --document-types powerhouse/YourModelName\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"--editor YourModelName"})," flag specifies the document model this editor is for."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"--document-types powerhouse/YourModelName"})," flag links the editor to the specific document type defined in your model specification (ensure this matches what you set in Connect)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This creates a template file, typically at ",(0,s.jsx)(n.code,{children:"editors/your-model-name/editor.tsx"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Customize this React component to build your UI."}),"\n",(0,s.jsx)(n.li,{children:"You can use standard HTML, Tailwind CSS (available in Connect), or import custom CSS."}),"\n",(0,s.jsxs)(n.li,{children:["Utilize components from ",(0,s.jsx)(n.code,{children:"@powerhousedao/document-engineering"})," for consistency and rapid development. Learn more at ",(0,s.jsx)(n.a,{href:"/academy/ComponentLibrary/DocumentEngineering",children:"Document-Engineering"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"35-test-the-editor",children:"3.5. Test the editor"}),"\n",(0,s.jsx)(n.p,{children:"Run Connect locally to see your editor in action:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph connect\n"})}),"\n",(0,s.jsx)(n.p,{children:"Create a new document of your defined type. Interact with your editor, test all functionalities, and ensure it correctly dispatches actions to the reducers and reflects state changes."}),"\n",(0,s.jsx)(n.h2,{id:"phase-4-packaging-and-publishing",children:"Phase 4: Packaging and publishing"}),"\n",(0,s.jsx)(n.p,{children:"Once your document model and editor are implemented and tested, you can package them for distribution. A Powerhouse Package is a modular unit that can group document models, editors, scripts, and processors."}),"\n",(0,s.jsx)(n.h3,{id:"41-prepare-project-for-packaging",children:"4.1. Prepare project for packaging"}),"\n",(0,s.jsxs)(n.p,{children:["If you didn't initialize your project with ",(0,s.jsx)(n.code,{children:"ph init"})," intending it as a package, ensure your project structure is set up correctly. The ",(0,s.jsx)(n.code,{children:"ph init"})," command is designed to create this structure."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"document-models/"}),": Contains your document models."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"editors/"}),": Contains your editor components."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"src/"}),": Often used for shared utilities or can be part of the model/editor structure."]}),"\n",(0,s.jsxs)(n.li,{children:["(Optional) ",(0,s.jsx)(n.code,{children:"processors/"}),", ",(0,s.jsx)(n.code,{children:"scripts/"})," for advanced functionalities."]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"42-specify-package-details-in-packagejson",children:["4.2. Specify package details in ",(0,s.jsx)(n.code,{children:"package.json"})]}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to the ",(0,s.jsx)(n.code,{children:"package.json"})," file in your project root. This file is crucial for NPM publishing."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"name"})}),": Follow a scoped naming convention, e.g., ",(0,s.jsx)(n.code,{children:"@your-org-ph/your-package-name"}),". The ",(0,s.jsx)(n.code,{children:"-ph"})," suffix helps identify Powerhouse ecosystem packages."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"version"})}),": Use semantic versioning (e.g., ",(0,s.jsx)(n.code,{children:"1.0.0"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"author"})}),": Your name or organization."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"license"})}),": e.g., ",(0,s.jsx)(n.code,{children:"AGPL-3.0-only"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"main"})}),": The entry point of your package (e.g., ",(0,s.jsx)(n.code,{children:"index.js"})," or ",(0,s.jsx)(n.code,{children:"dist/index.js"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"publishConfig"})}),": For scoped packages intended to be public, add:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"publishConfig": {\n  "access": "public"\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Example ",(0,s.jsx)(n.code,{children:"package.json"})," snippet:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@your-org-ph/your-package-name",\n  "version": "1.0.0",\n  "author": "Your Name",\n  "license": "AGPL-3.0-only",\n  "main": "index.js",\n  "files": [\n    // Ensure your build output and necessary files are included\n    "dist",\n    "manifest.json",\n    "document-models",\n    "editors"\n  ],\n  "publishConfig": {\n    "access": "public"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"43-add-a-manifest-file-manifestjson",children:["4.3. Add a manifest file (",(0,s.jsx)(n.code,{children:"manifest.json"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.code,{children:"manifest.json"})," file in your project root. This file describes your package's contents (document models, editors) and helps host applications like Connect understand and integrate your package."]}),"\n",(0,s.jsxs)(n.p,{children:["Example ",(0,s.jsx)(n.code,{children:"manifest.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@yourorg-ph/your-package-name", // it\'s recommended to use an organization-specific NPM account (e.g., `yourorg-ph`).\n  "description": "A brief description of your package and its document models.",\n  "category": "your-category", // e.g., "Finance", "People Ops", "Legal"\n  "publisher": {\n    "name": "your-publisher-name", // Your organization or name\n    "url": "your-publisher-url" // Link to your website or repository\n  },\n  "documentModels": [\n    {\n      "id": "powerhouse/YourModelName", // Document type string as defined in Connect\n      "name": "YourModelName" // Human-readable name\n    }\n  ],\n  "editors": [\n    {\n      "id": "your-editor-id", // A unique ID for the editor component\n      "name": "YourModelName Editor", // Human-readable name\n      "documentTypes": ["powerhouse/YourModelName"] // Links editor to document type(s)\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Update your project's main ",(0,s.jsx)(n.code,{children:"index.js"})," or entry point to export your document models and editors so they can be discovered by Powerhouse applications."]}),"\n",(0,s.jsx)(n.h3,{id:"44-build-your-project",children:"4.4. Build your project"}),"\n",(0,s.jsx)(n.p,{children:"Compile and optimize your project for production:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pnpm build\n"})}),"\n",(0,s.jsx)(n.p,{children:"Or with npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This command typically creates a ",(0,s.jsx)(n.code,{children:"dist/"})," or ",(0,s.jsx)(n.code,{children:"build/"})," directory with the compiled assets. Ensure your ",(0,s.jsx)(n.code,{children:"package.json"}),"'s ",(0,s.jsx)(n.code,{children:"files"})," array includes this directory and other necessary assets like ",(0,s.jsx)(n.code,{children:"manifest.json"}),", ",(0,s.jsx)(n.code,{children:"document-models"}),", and ",(0,s.jsx)(n.code,{children:"editors"})," if they are not part of the build output but need to be in the package."]}),"\n",(0,s.jsx)(n.h3,{id:"45-version-control",children:"4.5. Version control"}),"\n",(0,s.jsx)(n.p,{children:"Store your project in a Git repository for versioning and collaboration."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'git init\ngit add .\ngit commit -m "Initial commit of document model package"\n# git remote add origin <your-remote-repository-url>\n# git push -u origin main\n'})}),"\n",(0,s.jsx)(n.h3,{id:"46-publish-to-npm",children:"4.6. Publish to NPM"}),"\n",(0,s.jsx)(n.p,{children:"To share your package with others or deploy it to different environments, publish it to the NPM registry."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Login to NPM:"}),"\nIf you haven't already, log into your NPM account. It's recommended to use an organization-specific NPM account (e.g., ",(0,s.jsx)(n.code,{children:"yourorg-ph"}),")."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm login\n"})}),"\n",(0,s.jsx)(n.p,{children:"Follow the prompts in your terminal or browser."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Publish the package:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm publish\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If your package is scoped and public, NPM will use the ",(0,s.jsx)(n.code,{children:"publishConfig"})," from your ",(0,s.jsx)(n.code,{children:"package.json"}),". If not set there, you might need ",(0,s.jsx)(n.code,{children:"npm publish --access public"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"47-using-your-published-package",children:"4.7. Using your published package"}),"\n",(0,s.jsx)(n.p,{children:"Once published, your package can be installed and used in any Powerhouse environment (like another local Connect instance or a deployed Reactor setup)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ph install @your-org-ph/your-package-name\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command makes the document models and editors defined in your package available within that Powerhouse instance."}),"\n",(0,s.jsx)(n.p,{children:"Congratulations! You've successfully created, packaged, and published a Powerhouse Document Model. This enables modularity, reusability, and collaboration within the Powerhouse ecosystem."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},7474:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var o=i(2155);const s={},r=o.createContext(s);function t(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);