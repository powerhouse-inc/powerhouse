"use strict";(self.webpackChunk_powerhousedao_academy=self.webpackChunk_powerhousedao_academy||[]).push([[4976],{5504:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"academy/MasteryTrack/Launch/SetupEnvironment","title":"Environment setup guide","description":"Introduction","source":"@site/docs/academy/02-MasteryTrack/05-Launch/03-SetupEnvironment.md","sourceDirName":"academy/02-MasteryTrack/05-Launch","slug":"/academy/MasteryTrack/Launch/SetupEnvironment","permalink":"/academy/MasteryTrack/Launch/SetupEnvironment","draft":false,"unlisted":false,"editUrl":"https://github.com/powerhouse-inc/powerhouse-docs/tree/dev/docs/academy/02-MasteryTrack/05-Launch/03-SetupEnvironment.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"academySidebar","previous":{"title":"Publish your package","permalink":"/academy/MasteryTrack/Launch/PublishYourProject"},"next":{"title":"Configure your environment","permalink":"/academy/MasteryTrack/Launch/ConfigureEnvironment"}}');var r=s(5723),t=s(7474);const o={},l="Environment setup guide",c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Part 1: Setting up your DigitalOcean droplet",id:"part-1-setting-up-your-digitalocean-droplet",level:2},{value:"Step 1: Sign up or log in to DigitalOcean",id:"step-1-sign-up-or-log-in-to-digitalocean",level:3},{value:"Step 2: Create a new droplet",id:"step-2-create-a-new-droplet",level:3},{value:"Step 3: Access your droplet",id:"step-3-access-your-droplet",level:3},{value:"DNS configuration",id:"dns-configuration",level:3},{value:"Option A: Using DigitalOcean&#39;s nameservers (recommended)",id:"option-a-using-digitaloceans-nameservers-recommended",level:4},{value:"Option B: Using your existing nameservers (NS locked)",id:"option-b-using-your-existing-nameservers-ns-locked",level:4},{value:"Verify configuration",id:"verify-configuration",level:3},{value:"Part 1: Assigning a static IP to EC2 instance",id:"part-1-assigning-a-static-ip-to-ec2-instance",level:2},{value:"Step 1: Allocate elastic IP",id:"step-1-allocate-elastic-ip",level:3},{value:"Step 2: Associate elastic IP",id:"step-2-associate-elastic-ip",level:3},{value:"Part 2: DNS configuration",id:"part-2-dns-configuration",level:2},{value:"Option A: Using AWS Route 53 (recommended)",id:"option-a-using-aws-route-53-recommended",level:3},{value:"Option B: Using your existing nameservers",id:"option-b-using-your-existing-nameservers",level:3},{value:"Verify configuration",id:"verify-configuration-1",level:3},{value:"1. Setting up a new cloud environment",id:"1-setting-up-a-new-cloud-environment",level:2},{value:"Installation",id:"installation",level:3},{value:"Service configuration",id:"service-configuration",level:3},{value:"Package installation",id:"package-installation",level:4},{value:"Database configuration",id:"database-configuration",level:4},{value:"SSL configuration",id:"ssl-configuration",level:4},{value:"Domain setup",id:"domain-setup",level:4},{value:"Security features",id:"security-features",level:4},{value:"2. Verifying the setup",id:"2-verifying-the-setup",level:2},{value:"3. Accessing the services",id:"3-accessing-the-services",level:2},{value:"With Let&#39;s Encrypt",id:"with-lets-encrypt",level:3},{value:"With self-signed certificate",id:"with-self-signed-certificate",level:3},{value:"4. Troubleshooting",id:"4-troubleshooting",level:2},{value:"Common issues",id:"common-issues",level:3},{value:"5. Maintenance",id:"5-maintenance",level:2},{value:"Updating services",id:"updating-services",level:3},{value:"Restarting services",id:"restarting-services",level:3},{value:"Checking service status and logs",id:"checking-service-status-and-logs",level:3},{value:"6. Security notes",id:"6-security-notes",level:2},{value:"7. Backup",id:"7-backup",level:2},{value:"Database backup",id:"database-backup",level:3},{value:"Configuration backup",id:"configuration-backup",level:3},{value:"8. Best practices",id:"8-best-practices",level:2},{value:"9. Getting help",id:"9-getting-help",level:2}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"environment-setup-guide",children:"Environment setup guide"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["Powerhouse is a powerful platform that helps you manage and deploy your applications efficiently.",(0,r.jsx)(n.br,{}),"\n","This guide will walk you through the process of setting up both the Powerhouse CLI and configuring your server machine to run Powerhouse services. Whether you're setting up a development environment or preparing for production deployment, this guide provides all the necessary steps and considerations."]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.p,{children:["Before you begin, ensure you have a Linux-based system (Ubuntu or Debian recommended), sudo privileges, and a stable internet connection.",(0,r.jsx)(n.br,{}),"\n","These are essential for the installation and configuration process.\nThe system should have at least 1GB of RAM and 10GB of free disk space for optimal performance.\nWhile these are minimum requirements, more resources will provide better performance, especially when running multiple services."]}),"\n",(0,r.jsx)(n.p,{children:"Also make sure you have your preferred domain registered and created subdomains for your Connect & Switchboard instances."}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.strong,{children:"Setting up a Droplet (Digital Ocean) instance and connecting your domain"})}),(0,r.jsxs)(n.p,{children:['This tutorial will guide you through the process of creating a new virtual private server (called a "Droplet") on DigitalOcean and then pointing your custom domain name to it. This will allow users to access your server using a memorable URL like ',(0,r.jsx)(n.code,{children:"www.yourdomain.com"}),"."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Current Date:"})," May 15, 2024"]}),(0,r.jsx)(n.h2,{id:"part-1-setting-up-your-digitalocean-droplet",children:"Part 1: Setting up your DigitalOcean droplet"}),(0,r.jsx)(n.p,{children:"A Droplet is a scalable virtual machine that you can configure to host your websites, applications, or other services."}),(0,r.jsx)(n.h3,{id:"step-1-sign-up-or-log-in-to-digitalocean",children:"Step 1: Sign up or log in to DigitalOcean"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If you don't have an account, go to ",(0,r.jsx)(n.a,{href:"https://digitalocean.com",children:"digitalocean.com"})," and sign up. You'll likely need to provide payment information."]}),"\n",(0,r.jsx)(n.li,{children:"If you already have an account, log in."}),"\n"]}),(0,r.jsx)(n.h3,{id:"step-2-create-a-new-droplet",children:"Step 2: Create a new droplet"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'From your DigitalOcean dashboard, click the green "Create" button in the top right corner and select "Droplets".'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Choose an Image:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Distributions:"})," Select a base Linux distribution like Ubuntu (a popular choice, e.g., Ubuntu 22.04 LTS), Fedora, Debian, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Marketplace:"})," You can also choose from pre-configured 1-Click Apps (e.g., WordPress, Docker, LAMP stack). This can save you setup time. For this general tutorial, we'll assume a base distribution."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Choose a Plan (Size):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Shared CPU:"}),' Good for smaller projects, development, or low-traffic sites. Options like "Basic" Droplets fall here.']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dedicated CPU:"})," For production applications needing consistent performance (General Purpose, CPU-Optimized, Memory-Optimized, Storage-Optimized Droplets)."]}),"\n",(0,r.jsx)(n.li,{children:"Start with a basic plan that fits your budget and expected needs; you can resize your Droplet later if necessary."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Choose a Datacenter Region:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Select a server location closest to your target audience to minimize latency."}),"\n",(0,r.jsx)(n.li,{children:"For example, if your users are primarily in Europe, choose a European datacenter like Amsterdam, Frankfurt, or London."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Authentication:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSH Keys (Recommended for security):"}),' If you have an SSH key pair, you can add your public key. This is more secure than using passwords. Click "New SSH Key" and paste your public key if it\'s not already added.']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password:"})," If you choose this, create a strong root password. You'll use this to log in via SSH initially."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Additional Options (Customize as needed):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VPC Network:"})," By default, your Droplet will be in your default VPC for the chosen region. You can change this if you have custom networking setups."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring:"})," A free metrics monitoring service. It's a good idea to enable this."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Data:"})," Allows you to run initial configuration scripts when the Droplet is first created."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Backups (Recommended for production):"})," Enable automated weekly backups for a small additional fee."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Volume (Additional Storage):"})," Attach block storage if you need more disk space than the Droplet plan offers."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Finalize and Create:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Choose a Hostname: Give your Droplet a name (e.g., ",(0,r.jsx)(n.code,{children:"my-web-server"}),"). This is for your reference within DigitalOcean."]}),"\n",(0,r.jsx)(n.li,{children:"Add Tags (Optional): Organize your resources with tags."}),"\n",(0,r.jsx)(n.li,{children:"Select Project: Assign the Droplet to a project."}),"\n",(0,r.jsx)(n.li,{children:'Review your selections and click the "Create Droplet" button at the bottom.'}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"step-3-access-your-droplet",children:"Step 3: Access your droplet"}),(0,r.jsx)(n.p,{children:"It will take a minute or two for your Droplet to be provisioned. Once it's ready, its IP address will be displayed in your Droplets list."}),(0,r.jsx)(n.p,{children:"To log in via SSH:"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open a terminal (on macOS/Linux) or an SSH client like PuTTY (on Windows). You can also use Digital Ocean's web 'Console'."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use one of these commands:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# If using password authentication\nssh root@YOUR_DROPLET_IP\n\n# If using SSH key for a specific user\nssh your_user@YOUR_DROPLET_IP\n\n# If using a specific SSH key\nssh -i /path/to/your/private_key root@YOUR_DROPLET_IP\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If you used a password, you'll be prompted to enter it."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If it's your first time logging in, you might be asked to change the root password."}),"\n"]}),"\n"]}),(0,r.jsx)(n.p,{children:"Now your Droplet is running! Now you can continue with the Powerhouse tutorial or any next steps."}),(0,r.jsx)(n.h3,{id:"dns-configuration",children:"DNS configuration"}),(0,r.jsx)(n.h4,{id:"option-a-using-digitaloceans-nameservers-recommended",children:"Option A: Using DigitalOcean's nameservers (recommended)"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Add Your Domain to DigitalOcean:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Go to "Networking" \u2192 "Domains"'}),"\n",(0,r.jsxs)(n.li,{children:["Enter your domain name (e.g., ",(0,r.jsx)(n.code,{children:"yourdomain.com"}),")"]}),"\n",(0,r.jsx)(n.li,{children:'Click "Add Domain"'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Start with Updating Nameservers at Your Domain Registrar:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Log in to your domain registrar"}),"\n",(0,r.jsxs)(n.li,{children:["Update nameservers to:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ns1.digitalocean.com\nns2.digitalocean.com\nns3.digitalocean.com\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create DNS Records:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Root Domain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," @"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WILL DIRECT TO:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"WWW Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," www"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WILL DIRECT TO:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connect Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," connect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WILL DIRECT TO:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Switchboard Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," switchboard"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"WILL DIRECT TO:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.h4,{id:"option-b-using-your-existing-nameservers-ns-locked",children:"Option B: Using your existing nameservers (NS locked)"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Just Create DNS Records at Your Registrar:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Root Domain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," @"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"WWW Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," www"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connect Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," connect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Switchboard Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," switchboard"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Droplet's IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," DNS changes may take up to 48 hours to propagate globally."]}),(0,r.jsx)(n.h3,{id:"verify-configuration",children:"Verify configuration"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use DNS lookup tools to verify your records:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dig +short yourdomain.com\ndig +short www.yourdomain.com\ndig +short connect.yourdomain.com\ndig +short switchboard.yourdomain.com\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"All should return your Droplet's IP address"}),"\n"]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Congratulations!"})," You have successfully set up your DigitalOcean Droplet and configured your domain. Your server is now ready to host your Powerhouse services."]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsxs)("summary",{children:[" ",(0,r.jsx)(n.strong,{children:"Setting up an EC2 instance and connecting your domain"})," "]}),(0,r.jsx)(n.p,{children:"This tutorial will guide you through the process of assigning a static IP (Elastic IP) to your EC2 instance and configuring your domain to point to it."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Current Date:"})," May 15, 2024"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Make sure your region is set to eu-west-1 (Ireland)"}),"\n",(0,r.jsxs)(n.li,{children:["Name your instance something like ",(0,r.jsx)(n.code,{children:"cloud-server"})," or your project's name"]}),"\n",(0,r.jsx)(n.li,{children:"Select Ubuntu 24.04 LTS"}),"\n",(0,r.jsx)(n.li,{children:"Architecture 64-bit (x86)"}),"\n",(0,r.jsxs)(n.li,{children:["Scroll down to Instance type and select t2.medium (recommended)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"2 vCPUs and 4 GiB of memory are the recommended minimum specs"}),"\n",(0,r.jsx)(n.li,{children:"For larger projects or higher load, consider t2.large or t2.xlarge"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Create a new key pair and save it in a secure location from which you can connect to your instance with the SSH client later."}),"\n",(0,r.jsxs)(n.li,{children:["Configure the security group to allow inbound traffic:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SSH (Port 22) from your IP address"}),"\n",(0,r.jsx)(n.li,{children:"HTTP (Port 80) from anywhere"}),"\n",(0,r.jsx)(n.li,{children:"HTTPS (Port 443) from anywhere"}),"\n",(0,r.jsx)(n.li,{children:"Custom TCP (Port 8442) for Connect"}),"\n",(0,r.jsx)(n.li,{children:"Custom TCP (Port 8441) for Switchboard"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Launch the instance"})}),"\n"]}),(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Make sure to keep your key pair file (.pem) secure and never share it. Without it, you won't be able to access your instance. Also, consider setting up AWS IAM roles and policies for better security management."})}),(0,r.jsx)(n.h2,{id:"part-1-assigning-a-static-ip-to-ec2-instance",children:"Part 1: Assigning a static IP to EC2 instance"}),(0,r.jsx)(n.h3,{id:"step-1-allocate-elastic-ip",children:"Step 1: Allocate elastic IP"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Navigate to the EC2 service in the AWS console"}),"\n",(0,r.jsx)(n.li,{children:'Choose "Elastic IPs" from the navigation pane'}),"\n",(0,r.jsx)(n.li,{children:'Select "Allocate new address"'}),"\n",(0,r.jsx)(n.li,{children:"Select the VPC where your EC2 instance is located"}),"\n",(0,r.jsx)(n.li,{children:'Click "Allocate"'}),"\n"]}),(0,r.jsx)(n.h3,{id:"step-2-associate-elastic-ip",children:"Step 2: Associate elastic IP"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Go back to the EC2 console and select your instance"}),"\n",(0,r.jsx)(n.li,{children:'From the "Networking" tab, expand "Network interfaces"'}),"\n",(0,r.jsx)(n.li,{children:'Note the "Interface ID" of the network interface'}),"\n",(0,r.jsx)(n.li,{children:'Select the "Interface ID" to manage its IP addresses'}),"\n",(0,r.jsx)(n.li,{children:'Choose "Actions", then "Manage IP Addresses"'}),"\n",(0,r.jsx)(n.li,{children:'Find the Elastic IP you allocated and click "Associate"'}),"\n"]}),(0,r.jsx)(n.h2,{id:"part-2-dns-configuration",children:"Part 2: DNS configuration"}),(0,r.jsx)(n.h3,{id:"option-a-using-aws-route-53-recommended",children:"Option A: Using AWS Route 53 (recommended)"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Add Your Domain to Route 53:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Go to Route 53 \u2192 "Hosted zones"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Create hosted zone"'}),"\n",(0,r.jsxs)(n.li,{children:["Enter your domain name (e.g., ",(0,r.jsx)(n.code,{children:"yourdomain.com"}),")"]}),"\n",(0,r.jsx)(n.li,{children:'Click "Create"'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Update Nameservers at Your Domain Registrar:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Log in to your domain registrar"}),"\n",(0,r.jsx)(n.li,{children:"Update nameservers to the ones provided by Route 53"}),"\n",(0,r.jsxs)(n.li,{children:["They will look like:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ns-1234.awsdns-12.org\nns-567.awsdns-34.com\nns-890.awsdns-56.net\nns-1234.awsdns-78.co.uk\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create DNS Records:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Root Domain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," @"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"WWW Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," www"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connect Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," connect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Switchboard Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," switchboard"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"option-b-using-your-existing-nameservers",children:"Option B: Using your existing nameservers"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Create DNS Records at Your Registrar:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Root Domain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," @"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"WWW Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," www"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Connect Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," connect"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Switchboard Subdomain (A Record):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TYPE:"})," A"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HOSTNAME:"})," switchboard"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"VALUE:"})," Your Elastic IP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL:"})," 3600"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Set Up DNS First:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create A records for all subdomains before running the setup script"}),"\n",(0,r.jsx)(n.li,{children:"Point them to your EC2 instance's public IP address"}),"\n",(0,r.jsx)(n.li,{children:"Wait for DNS propagation before requesting SSL certificates"}),"\n"]}),"\n"]}),"\n"]}),(0,r.jsx)(n.h3,{id:"verify-configuration-1",children:"Verify configuration"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use DNS lookup tools to verify your records:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dig +short yourdomain.com\ndig +short www.yourdomain.com\ndig +short connect.yourdomain.com\ndig +short switchboard.yourdomain.com\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"All should return your Elastic IP address"}),"\n"]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Congratulations!"})," You have successfully set up your EC2 instance with a static IP and configured your domain. Your server is now ready to host your Powerhouse services."]})]}),"\n",(0,r.jsx)(n.h2,{id:"1-setting-up-a-new-cloud-environment",children:"1. Setting up a new cloud environment"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"install"})," script provides a streamlined way to install the Powerhouse CLI tool and all its necessary dependencies. This script handles the installation of Node.js 22, pnpm, and the Powerhouse CLI itself. It's designed to work across different Linux distributions, though it's optimized for Ubuntu and Debian-based systems. It also prepares your machine for running Powerhouse services. It handles everything from package installation to service configuration, making the setup process straightforward and automated. This script is particularly useful for setting up new servers or reconfiguring existing ones."]}),"\n",(0,r.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Run the setup script:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -fsSL https://apps.powerhouse.io/install | bash # for macOS, Linux, and WSL\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"After installation, source your shell configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc  # or source ~/.zshrc if using zsh\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Verify that the Powerhouse CLI is ready to be installed in the next step:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph --version\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You will see that ",(0,r.jsx)(n.code,{children:"ph-cli"})," is not yet installed. This is expected, as it will be installed by the service setup command."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create a project with ",(0,r.jsx)(n.code,{children:"ph-init <projectname>"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["After creation, move into the project with ",(0,r.jsx)(n.code,{children:"cd <projectname>"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Up next is the configurations of your services."}),"\n",(0,r.jsx)(n.h3,{id:"service-configuration",children:"Service configuration"}),"\n",(0,r.jsx)(n.p,{children:"Next, run"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service setup\n"})}),"\n",(0,r.jsx)(n.p,{children:"Follow the interactive prompts. This command installs the Powerhouse services (Connect and Switchboard) and guides you through their configuration."}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{children:(0,r.jsxs)(n.strong,{children:["What does ",(0,r.jsx)(n.code,{children:"ph service setup"})," do?"]})}),(0,r.jsxs)(n.p,{children:["The script takes care of all the necessary service configuration automatically.\nIt installs and configures ",(0,r.jsx)(n.strong,{children:"Nginx"})," as a reverse proxy, sets up SSL certificates, and configures the proxy settings for optimal performance.\nIt also installs ",(0,r.jsx)(n.strong,{children:"PM2"})," for process management and starts your services with the appropriate configuration based on your SSL choice.\nThe Nginx configuration includes optimizations for ",(0,r.jsx)(n.strong,{children:"WebSocket connections"}),", static file serving, and security headers.\nPM2 is configured to automatically restart services if they crash and to start them on system boot."]})]}),"\n",(0,r.jsx)(n.p,{children:"The setup command will prompt you for the following information:"}),"\n",(0,r.jsx)(n.h4,{id:"package-installation",children:"Package installation"}),"\n",(0,r.jsxs)(n.p,{children:["During this phase, you can enter package names that you want to install. For example, you might want to ",(0,r.jsx)(n.code,{children:"ph install @powerhousedao/todo-demo-package"})," or other Powerhouse packages. This step is crucial for adding the specific functionality you need. You can also press Enter to skip this step and install packages later using the ",(0,r.jsx)(n.code,{children:"ph install"})," command."]}),"\n",(0,r.jsx)(n.h4,{id:"database-configuration",children:"Database configuration"}),"\n",(0,r.jsx)(n.p,{children:"The script offers two options for database configuration:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option 1: Local Database"})," Sets up a local PostgreSQL database, which is ideal for development or small deployments. It automatically creates a database user with a secure random password and configures the database to accept local connections. This option is perfect for getting started quickly."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option 2: Remote Database"})," Allows you to connect to a remote PostgreSQL database by providing a connection URL in the format ",(0,r.jsx)(n.code,{children:"postgres://user:password@host:port/db"}),". This is recommended for production environments."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"ssl-configuration",children:"SSL configuration"}),"\n",(0,r.jsx)(n.p,{children:"For SSL configuration, you have two choices:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option 1: Let's Encrypt (Recommended for Production)"})," This option requires you to provide a base domain (e.g., ",(0,r.jsx)(n.code,{children:"powerhouse.xyz"}),") and subdomains for your services. The script will automatically obtain and configure SSL certificates for your domains."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option 2: Self-signed Certificate"})," This is suitable for development or testing. It uses your machine's hostname and generates a self-signed certificate. Browsers will show security warnings with this option."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"domain-setup",children:"Domain setup"}),"\n",(0,r.jsxs)(n.p,{children:["You will be asked to enter your ",(0,r.jsx)(n.code,{children:"connect"})," and ",(0,r.jsx)(n.code,{children:"switchboard"})," subdomains to complete the setup. If you need more information, revisit the cloud provider setup sections at the beginning of this guide."]}),"\n",(0,r.jsx)(n.h4,{id:"security-features",children:"Security features"}),"\n",(0,r.jsx)(n.p,{children:"Security is a top priority. The script implements automatic SSL certificate management, generates secure database passwords, and configures security headers in Nginx, and sets up proper proxy settings to support WebSocket connections securely."}),"\n",(0,r.jsx)(n.h2,{id:"2-verifying-the-setup",children:"2. Verifying the setup"}),"\n",(0,r.jsx)(n.p,{children:"After the installation is complete, it's important to verify that everything is working correctly. You can check the status of your services using PM2, verify the Nginx configuration, and ensure your SSL certificates are properly installed. This step is crucial for identifying any potential issues before they affect your users."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check service status of switchboard and connect:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service status\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can also use"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service start | stop | restart\n"})}),"\n",(0,r.jsx)(n.p,{children:"to start | stop | restart switchboard and connect"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"View Nginx configuration:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo nginx -t\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Check SSL certificates:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo certbot certificates  # if using Let's Encrypt\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3-accessing-the-services",children:"3. Accessing the services"}),"\n",(0,r.jsxs)(n.p,{children:["Once everything is set up, you can access your services through the configured domains.",(0,r.jsx)(n.br,{}),"\n","If you chose Let's Encrypt, your services will be available at their respective subdomains. With a self-signed certificate, you'll access the services through your machine's hostname with the appropriate base paths. The services are configured to use HTTPS by default, ensuring secure communication."]}),"\n",(0,r.jsx)(n.h3,{id:"with-lets-encrypt",children:"With Let's Encrypt"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Connect: ",(0,r.jsx)(n.code,{children:"https://connect.yourdomain.com"})]}),"\n",(0,r.jsxs)(n.li,{children:["Switchboard: ",(0,r.jsx)(n.code,{children:"https://switchboard.yourdomain.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"with-self-signed-certificate",children:"With self-signed certificate"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Connect: ",(0,r.jsx)(n.code,{children:"https://your-hostname/connect"})]}),"\n",(0,r.jsxs)(n.li,{children:["Switchboard: ",(0,r.jsx)(n.code,{children:"https://your-hostname/switchboard"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-troubleshooting",children:"4. Troubleshooting"}),"\n",(0,r.jsx)(n.p,{children:"When issues arise, there are several common problems you might encounter."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:['The "',(0,r.jsx)(n.code,{children:"ph"}),': command not found" error usually means you need to source your shell configuration file.']}),"\n",(0,r.jsx)(n.li,{children:"Nginx configuration errors can be investigated through the error logs, and service issues can be diagnosed using PM2 logs."}),"\n",(0,r.jsx)(n.li,{children:"SSL certificate problems often relate to DNS settings or certificate paths. Understanding these common issues and their solutions will help you maintain a stable Powerhouse installation."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common issues"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:['"',(0,r.jsx)(n.code,{children:"ph"}),': command not found"']})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"source ~/.bashrc"})," or restart your terminal"]}),"\n",(0,r.jsxs)(n.li,{children:["Verify that the ",(0,r.jsx)(n.code,{children:"PNPM_HOME"})," environment variable is set correctly"]}),"\n",(0,r.jsxs)(n.li,{children:["Check if the ",(0,r.jsx)(n.code,{children:"ph"})," binary exists in the ",(0,r.jsx)(n.code,{children:"PNPM_HOME"})," directory"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Nginx configuration errors"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check logs: ",(0,r.jsx)(n.code,{children:"sudo tail -f /var/log/nginx/error.log"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify that all required modules are installed"}),"\n",(0,r.jsx)(n.li,{children:"Ensure that the SSL certificate paths are correct"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Service not starting"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Check PM2 logs: ",(0,r.jsx)(n.code,{children:"pm2 logs"})]}),"\n",(0,r.jsx)(n.li,{children:"Verify that the service ports are not in use"}),"\n",(0,r.jsx)(n.li,{children:"Check if the service has the required permissions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"SSL certificate issues"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify domain DNS settings"}),"\n",(0,r.jsx)(n.li,{children:"Check certificate paths in Nginx config"}),"\n",(0,r.jsx)(n.li,{children:"Ensure that the certificate files are readable by Nginx"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"5-maintenance",children:"5. Maintenance"}),"\n",(0,r.jsx)(n.p,{children:"Regular maintenance is crucial for keeping your Powerhouse installation running smoothly. You can update services using the Powerhouse CLI, restart services through PM2, and monitor logs to ensure everything is functioning correctly. Regular maintenance helps prevent issues and ensures that your services are running with the latest security patches and features."}),"\n",(0,r.jsx)(n.h3,{id:"updating-services",children:"Updating services"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph update <package-name>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"restarting-services",children:"Restarting services"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service restart\n"})}),"\n",(0,r.jsx)(n.h3,{id:"checking-service-status-and-logs",children:"Checking service status and logs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ph service status\n"})}),"\n",(0,r.jsx)(n.h2,{id:"6-security-notes",children:"6. Security notes"}),"\n",(0,r.jsx)(n.p,{children:"Maintaining security is an ongoing process. It's essential to keep your database credentials secure and regularly update your SSL certificates. Regular monitoring of system logs helps identify potential security issues, and keeping your system and packages updated ensures you have the latest security patches. Consider implementing additional security measures such as firewall rules, intrusion detection systems, and regular security audits."}),"\n",(0,r.jsx)(n.h2,{id:"7-backup",children:"7. Backup"}),"\n",(0,r.jsx)(n.p,{children:"Regular backups are crucial for data safety. The database can be backed up using pg_dump, and your configuration files can be archived using tar. These backups should be stored securely and tested regularly to ensure they can be restored if needed. Consider implementing an automated backup schedule and storing backups in multiple locations for redundancy."}),"\n",(0,r.jsx)(n.h3,{id:"database-backup",children:"Database backup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pg_dump -U powerhouse -d powerhouse > backup.sql\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-backup",children:"Configuration backup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo tar -czf powerhouse-config.tar.gz /etc/powerhouse/\n"})}),"\n",(0,r.jsx)(n.h2,{id:"8-best-practices",children:"8. Best practices"}),"\n",(0,r.jsx)(n.p,{children:"To get the most out of your Powerhouse installation, follow these best practices:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regular Updates"}),": Keep your system, packages, and services updated to the latest stable versions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitoring"}),": Set up monitoring for your services to detect issues early."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": Keep documentation of your configuration and any customizations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Test your backup and restore procedures regularly."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Regularly review and update your security measures."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"9-getting-help",children:"9. Getting help"}),"\n",(0,r.jsx)(n.p,{children:"If you encounter issues or need assistance, there are several resources available:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": Check the official Powerhouse documentation for detailed information."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Community"}),": Join the Powerhouse community forums or chat channels."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Support"}),": Contact Powerhouse support for professional assistance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub"}),": Report issues or contribute to the project on GitHub."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},7474:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(2155);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);