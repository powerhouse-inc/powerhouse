"use strict";(self.webpackChunk_powerhousedao_academy=self.webpackChunk_powerhousedao_academy||[]).push([[3094],{3032:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"academy/MasteryTrack/BuildingUserExperiences/Authorization/Authorization","title":"Reactor API Authorization","description":"This tutorial explains how to configure authorization for the Powerhouse Reactor API using the new role-based authentication system.","source":"@site/docs/academy/02-MasteryTrack/03-BuildingUserExperiences/07-Authorization/02-Authorization.md","sourceDirName":"academy/02-MasteryTrack/03-BuildingUserExperiences/07-Authorization","slug":"/academy/MasteryTrack/BuildingUserExperiences/Authorization/Authorization","permalink":"/academy/MasteryTrack/BuildingUserExperiences/Authorization/Authorization","draft":false,"unlisted":false,"editUrl":"https://github.com/powerhouse-inc/powerhouse-docs/tree/dev/docs/academy/02-MasteryTrack/03-BuildingUserExperiences/07-Authorization/02-Authorization.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"academySidebar","previous":{"title":"Renown authentication flow","permalink":"/academy/MasteryTrack/BuildingUserExperiences/Authorization/RenownAuthenticationFlow"},"next":{"title":"Work with data","permalink":"/category/work-with-data"}}');var s=i(5723),o=i(7474);const t={},a="Reactor API Authorization",l={},c=[{value:"Basic configuration",id:"basic-configuration",level:2},{value:"Environment variables",id:"environment-variables",level:3},{value:"Powerhouse configuration",id:"powerhouse-configuration",level:3},{value:"Role-based access control",id:"role-based-access-control",level:2},{value:"Docker configuration",id:"docker-configuration",level:2},{value:"Authorization flow",id:"authorization-flow",level:2},{value:"Security best practices",id:"security-best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"reactor-api-authorization",children:"Reactor API Authorization"})}),"\n",(0,s.jsx)(n.p,{children:"This tutorial explains how to configure authorization for the Powerhouse Reactor API using the new role-based authentication system."}),"\n",(0,s.jsx)(n.h2,{id:"basic-configuration",children:"Basic configuration"}),"\n",(0,s.jsx)(n.p,{children:"The Reactor API supports two main ways to configure authorization:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Using environment variables"}),"\n",(0,s.jsx)(n.li,{children:"Using the powerhouse configuration file"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"environment-variables",children:"Environment variables"}),"\n",(0,s.jsx)(n.p,{children:"The following environment variables can be used to configure authorization:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Required: Enable/disable authentication\nAUTH_ENABLED=true\n\n# Optional: Comma-separated list of guest wallet addresses\nGUESTS="0x789,0xabc"\n\n# Optional: Comma-separated list of regular user wallet addresses\nUSERS="0xdef,0xghi"\n\n# Optional: Comma-separated list of admin wallet addresses\nADMINS="0x123,0x456"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"powerhouse-configuration",children:"Powerhouse configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Alternatively, you can configure authorization in your ",(0,s.jsx)(n.code,{children:"powerhouse.config.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "auth": {\n    "enabled": true,\n    "guests": ["0x789", "0xabc"],\n    "users": ["0xdef", "0xghi"],\n    "admins": ["0x123", "0x456"]\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"role-based-access-control",children:"Role-based access control"}),"\n",(0,s.jsx)(n.p,{children:"The new authorization system implements role-based access control with three distinct roles:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Guests (GUESTS)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Limited access to specific endpoints"}),"\n",(0,s.jsx)(n.li,{children:"Can view public data"}),"\n",(0,s.jsx)(n.li,{children:"Cannot perform write operations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Users (USERS)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Standard access to most endpoints"}),"\n",(0,s.jsx)(n.li,{children:"Can perform regular operations"}),"\n",(0,s.jsx)(n.li,{children:"Cannot access administrative functions"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Admins (ADMINS)"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Full access to all endpoints"}),"\n",(0,s.jsx)(n.li,{children:"Can manage drives"}),"\n",(0,s.jsx)(n.li,{children:"Can perform administrative tasks"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"docker-configuration",children:"Docker configuration"}),"\n",(0,s.jsx)(n.p,{children:"When running the Reactor API in Docker, you can pass these configurations as environment variables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'docker run -e AUTH_ENABLED=true \\\n           -e GUESTS="0x789,0xabc" \\\n           -e USERS="0xdef,0xghi" \\\n           -e ADMINS="0x123,0x456" \\\n           your-Reactor API-image\n'})}),"\n",(0,s.jsx)(n.h2,{id:"authorization-flow",children:"Authorization flow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Authentication can be enabled/disabled using AUTH_ENABLED"}),"\n",(0,s.jsx)(n.li,{children:"Users are assigned roles based on their wallet addresses"}),"\n",(0,s.jsx)(n.li,{children:"Each role has specific permissions and access levels"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-best-practices",children:"Security best practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Keep your admin wallet addresses secure"}),"\n",(0,s.jsx)(n.li,{children:"Use HTTPS in production environments"}),"\n",(0,s.jsx)(n.li,{children:"Review and update role assignments regularly"}),"\n",(0,s.jsx)(n.li,{children:"Consider using AUTH_ENABLED=false only in development"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.p,{children:"If you encounter authorization issues:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Check that AUTH_ENABLED is set appropriately"}),"\n",(0,s.jsx)(n.li,{children:"Verify wallet addresses are correctly formatted in their respective roles"}),"\n",(0,s.jsx)(n.li,{children:"Check the Reactor API logs for detailed error messages"}),"\n",(0,s.jsx)(n.li,{children:"Verify that your database and Redis connections are working"}),"\n",(0,s.jsx)(n.li,{children:"Confirm that users are assigned to the correct roles"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7474:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var r=i(2155);const s={},o=r.createContext(s);function t(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);